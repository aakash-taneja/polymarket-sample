{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildClobEip712Signature = void 0;\nconst tslib_1 = require(\"tslib\");\nconst constants_1 = require(\"./constants\");\n/**\n * Builds the canonical Polymarket CLOB EIP712 signature\n * @param signer\n * @param ts\n * @returns string\n */\nconst buildClobEip712Signature = (signer, chainId, timestamp, nonce) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {\n  const address = yield signer.getAddress();\n  const ts = `${timestamp}`;\n  const domain = {\n    name: \"ClobAuthDomain\",\n    version: \"1\",\n    chainId: chainId\n  };\n  const types = {\n    ClobAuth: [{\n      name: \"address\",\n      type: \"address\"\n    }, {\n      name: \"timestamp\",\n      type: \"string\"\n    }, {\n      name: \"nonce\",\n      type: \"uint256\"\n    }, {\n      name: \"message\",\n      type: \"string\"\n    }]\n  };\n  const value = {\n    address,\n    timestamp: ts,\n    nonce,\n    message: constants_1.MSG_TO_SIGN\n  };\n  // eslint-disable-next-line no-underscore-dangle\n  const sig = yield signer._signTypedData(domain, types, value);\n  return sig;\n});\nexports.buildClobEip712Signature = buildClobEip712Signature;","map":{"version":3,"names":["constants_1","require","buildClobEip712Signature","signer","chainId","timestamp","nonce","tslib_1","__awaiter","address","getAddress","ts","domain","name","version","types","ClobAuth","type","value","message","MSG_TO_SIGN","sig","_signTypedData","exports"],"sources":["../../src/signing/eip712.ts"],"sourcesContent":[null],"mappings":";;;;;;;AAEA,MAAAA,WAAA,GAAAC,OAAA;AAGA;;;;;;AAMO,MAAMC,wBAAwB,GAAGA,CACpCC,MAA8B,EAC9BC,OAAc,EACdC,SAAiB,EACjBC,KAAa,KACIC,OAAA,CAAAC,SAAA;EACjB,MAAMC,OAAO,GAAG,MAAMN,MAAM,CAACO,UAAU,EAAE;EACzC,MAAMC,EAAE,GAAG,GAAGN,SAAS,EAAE;EAEzB,MAAMO,MAAM,GAAG;IACXC,IAAI,EAAE,gBAAgB;IACtBC,OAAO,EAAE,GAAG;IACZV,OAAO,EAAEA;GACZ;EAED,MAAMW,KAAK,GAAG;IACVC,QAAQ,EAAE,CACN;MAAEH,IAAI,EAAE,SAAS;MAAEI,IAAI,EAAE;IAAS,CAAE,EACpC;MAAEJ,IAAI,EAAE,WAAW;MAAEI,IAAI,EAAE;IAAQ,CAAE,EACrC;MAAEJ,IAAI,EAAE,OAAO;MAAEI,IAAI,EAAE;IAAS,CAAE,EAClC;MAAEJ,IAAI,EAAE,SAAS;MAAEI,IAAI,EAAE;IAAQ,CAAE;GAE1C;EACD,MAAMC,KAAK,GAAG;IACVT,OAAO;IACPJ,SAAS,EAAEM,EAAE;IACbL,KAAK;IACLa,OAAO,EAAEnB,WAAA,CAAAoB;GACZ;EACD;EACA,MAAMC,GAAG,GAAG,MAAMlB,MAAM,CAACmB,cAAc,CAACV,MAAM,EAAEG,KAAK,EAAEG,KAAK,CAAC;EAC7D,OAAOG,GAAG;AACd,CAAC;AAhCYE,OAAA,CAAArB,wBAAwB,GAAAA,wBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}