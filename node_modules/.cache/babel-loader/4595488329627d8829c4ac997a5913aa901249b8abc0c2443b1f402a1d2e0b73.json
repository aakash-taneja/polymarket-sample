{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClobClient = void 0;\nconst tslib_1 = require(\"tslib\");\nconst types_1 = require(\"./types\");\nconst headers_1 = require(\"./headers\");\nconst http_helpers_1 = require(\"./http-helpers\");\nconst errors_1 = require(\"./errors\");\nconst utilities_1 = require(\"./utilities\");\nconst endpoints_1 = require(\"./endpoints\");\nconst builder_1 = require(\"./order-builder/builder\");\nconst constants_1 = require(\"./constants\");\nconst helpers_1 = require(\"./order-builder/helpers\");\nclass ClobClient {\n  // eslint-disable-next-line max-params\n  constructor(host, chainId, signer, creds, signatureType, funderAddress, geoBlockToken, useServerTime, builderConfig, getSigner) {\n    this.host = host.endsWith(\"/\") ? host.slice(0, -1) : host;\n    this.chainId = chainId;\n    if (signer !== undefined) {\n      this.signer = signer;\n    }\n    if (creds !== undefined) {\n      this.creds = creds;\n    }\n    this.orderBuilder = new builder_1.OrderBuilder(signer, chainId, signatureType, funderAddress, getSigner);\n    this.tickSizes = {};\n    this.negRisk = {};\n    this.feeRates = {};\n    this.geoBlockToken = geoBlockToken;\n    this.useServerTime = useServerTime;\n    if (builderConfig !== undefined) {\n      this.builderConfig = builderConfig;\n    }\n  }\n  // Public endpoints\n  getOk() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}/`);\n    });\n  }\n  getServerTime() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.TIME}`);\n    });\n  }\n  getSamplingSimplifiedMarkets(next_cursor = constants_1.INITIAL_CURSOR) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_SAMPLING_SIMPLIFIED_MARKETS}`, {\n        params: {\n          next_cursor\n        }\n      });\n    });\n  }\n  getSamplingMarkets(next_cursor = constants_1.INITIAL_CURSOR) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_SAMPLING_MARKETS}`, {\n        params: {\n          next_cursor\n        }\n      });\n    });\n  }\n  getSimplifiedMarkets(next_cursor = constants_1.INITIAL_CURSOR) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_SIMPLIFIED_MARKETS}`, {\n        params: {\n          next_cursor\n        }\n      });\n    });\n  }\n  getMarkets(next_cursor = constants_1.INITIAL_CURSOR) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_MARKETS}`, {\n        params: {\n          next_cursor\n        }\n      });\n    });\n  }\n  getMarket(conditionID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_MARKET}${conditionID}`);\n    });\n  }\n  getOrderBook(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_ORDER_BOOK}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n    });\n  }\n  getOrderBooks(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.post(`${this.host}${endpoints_1.GET_ORDER_BOOKS}`, {\n        data: params\n      });\n    });\n  }\n  getTickSize(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      if (tokenID in this.tickSizes) {\n        return this.tickSizes[tokenID];\n      }\n      const result = yield this.get(`${this.host}${endpoints_1.GET_TICK_SIZE}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n      this.tickSizes[tokenID] = result.minimum_tick_size.toString();\n      return this.tickSizes[tokenID];\n    });\n  }\n  getNegRisk(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      if (tokenID in this.negRisk) {\n        return this.negRisk[tokenID];\n      }\n      const result = yield this.get(`${this.host}${endpoints_1.GET_NEG_RISK}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n      this.negRisk[tokenID] = result.neg_risk;\n      return this.negRisk[tokenID];\n    });\n  }\n  getFeeRateBps(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      if (tokenID in this.feeRates) {\n        return this.feeRates[tokenID];\n      }\n      const result = yield this.get(`${this.host}${endpoints_1.GET_FEE_RATE}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n      this.feeRates[tokenID] = result.base_fee;\n      return this.feeRates[tokenID];\n    });\n  }\n  /**\n   * Calculates the hash for the given orderbook\n   * @param orderbook\n   * @returns\n   */\n  getOrderBookHash(orderbook) {\n    return (0, utilities_1.generateOrderBookSummaryHash)(orderbook);\n  }\n  getMidpoint(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_MIDPOINT}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n    });\n  }\n  getMidpoints(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.post(`${this.host}${endpoints_1.GET_MIDPOINTS}`, {\n        data: params\n      });\n    });\n  }\n  getPrice(tokenID, side) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_PRICE}`, {\n        params: {\n          token_id: tokenID,\n          side: side\n        }\n      });\n    });\n  }\n  getPrices(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.post(`${this.host}${endpoints_1.GET_PRICES}`, {\n        data: params\n      });\n    });\n  }\n  getSpread(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_SPREAD}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n    });\n  }\n  getSpreads(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.post(`${this.host}${endpoints_1.GET_SPREADS}`, {\n        data: params\n      });\n    });\n  }\n  getLastTradePrice(tokenID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_LAST_TRADE_PRICE}`, {\n        params: {\n          token_id: tokenID\n        }\n      });\n    });\n  }\n  getLastTradesPrices(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.post(`${this.host}${endpoints_1.GET_LAST_TRADES_PRICES}`, {\n        data: params\n      });\n    });\n  }\n  getPricesHistory(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_PRICES_HISTORY}`, {\n        params\n      });\n    });\n  }\n  // L1 Authed\n  /**\n   * Creates a new API key for a user\n   * @param nonce\n   * @returns ApiKeyCreds\n   */\n  createApiKey(nonce) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL1Auth();\n      const endpoint = `${this.host}${endpoints_1.CREATE_API_KEY}`;\n      const headers = yield (0, headers_1.createL1Headers)(this.signer, this.chainId, nonce, this.useServerTime ? yield this.getServerTime() : undefined);\n      return yield this.post(endpoint, {\n        headers\n      }).then(apiKeyRaw => {\n        const apiKey = {\n          key: apiKeyRaw.apiKey,\n          secret: apiKeyRaw.secret,\n          passphrase: apiKeyRaw.passphrase\n        };\n        return apiKey;\n      });\n    });\n  }\n  /**\n   * Derives an existing API key for a user\n   * @param nonce\n   * @returns ApiKeyCreds\n   */\n  deriveApiKey(nonce) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL1Auth();\n      const endpoint = `${this.host}${endpoints_1.DERIVE_API_KEY}`;\n      const headers = yield (0, headers_1.createL1Headers)(this.signer, this.chainId, nonce, this.useServerTime ? yield this.getServerTime() : undefined);\n      return yield this.get(endpoint, {\n        headers\n      }).then(apiKeyRaw => {\n        const apiKey = {\n          key: apiKeyRaw.apiKey,\n          secret: apiKeyRaw.secret,\n          passphrase: apiKeyRaw.passphrase\n        };\n        return apiKey;\n      });\n    });\n  }\n  createOrDeriveApiKey(nonce) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.createApiKey(nonce).then(response => {\n        if (!response.key) {\n          return this.deriveApiKey(nonce);\n        }\n        return response;\n      });\n    });\n  }\n  getApiKeys() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_API_KEYS;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.get(`${this.host}${endpoint}`, {\n        headers\n      });\n    });\n  }\n  getClosedOnlyMode() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.CLOSED_ONLY;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.get(`${this.host}${endpoint}`, {\n        headers\n      });\n    });\n  }\n  deleteApiKey() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.DELETE_API_KEY;\n      const headerArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers\n      });\n    });\n  }\n  getOrder(orderID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = `${endpoints_1.GET_ORDER}${orderID}`;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.get(`${this.host}${endpoint}`, {\n        headers\n      });\n    });\n  }\n  getTrades(params, only_first_page = false, next_cursor) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_TRADES;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      let results = [];\n      next_cursor = next_cursor || constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR && (next_cursor === constants_1.INITIAL_CURSOR || !only_first_page)) {\n        const _params = Object.assign(Object.assign({}, params), {\n          next_cursor\n        });\n        const response = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params: _params\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  getTradesPaginated(params, next_cursor) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_TRADES;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      next_cursor = next_cursor || constants_1.INITIAL_CURSOR;\n      const _params = Object.assign(Object.assign({}, params), {\n        next_cursor\n      });\n      const _a = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params: _params\n        }),\n        {\n          data\n        } = _a,\n        rest = tslib_1.__rest(_a, [\"data\"]);\n      return Object.assign({\n        trades: Array.isArray(data) ? [...data] : []\n      }, rest);\n    });\n  }\n  getBuilderTrades(params, next_cursor) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      if (!this.canBuilderAuth()) {\n        throw errors_1.BUILDER_AUTH_NOT_AVAILABLE;\n      }\n      const endpoint = endpoints_1.GET_BUILDER_TRADES;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield this._getBuilderHeaders(headerArgs.method, headerArgs.requestPath);\n      if (headers == undefined) {\n        throw errors_1.BUILDER_AUTH_FAILED;\n      }\n      next_cursor = next_cursor || constants_1.INITIAL_CURSOR;\n      const _params = Object.assign(Object.assign({}, params), {\n        next_cursor\n      });\n      const _a = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params: _params\n        }),\n        {\n          data\n        } = _a,\n        rest = tslib_1.__rest(_a, [\"data\"]);\n      return Object.assign({\n        trades: Array.isArray(data) ? [...data] : []\n      }, rest);\n    });\n  }\n  getNotifications() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_NOTIFICATIONS;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.get(`${this.host}${endpoint}`, {\n        headers,\n        params: {\n          signature_type: this.orderBuilder.signatureType\n        }\n      });\n    });\n  }\n  dropNotifications(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.DROP_NOTIFICATIONS;\n      const l2HeaderArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers,\n        params: (0, http_helpers_1.parseDropNotificationParams)(params)\n      });\n    });\n  }\n  getBalanceAllowance(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_BALANCE_ALLOWANCE;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      const _params = Object.assign(Object.assign({}, params), {\n        signature_type: this.orderBuilder.signatureType\n      });\n      return this.get(`${this.host}${endpoint}`, {\n        headers,\n        params: _params\n      });\n    });\n  }\n  updateBalanceAllowance(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.UPDATE_BALANCE_ALLOWANCE;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      const _params = Object.assign(Object.assign({}, params), {\n        signature_type: this.orderBuilder.signatureType\n      });\n      return this.get(`${this.host}${endpoint}`, {\n        headers,\n        params: _params\n      });\n    });\n  }\n  createOrder(userOrder, options) {\n    var _a;\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL1Auth();\n      const {\n        tokenID\n      } = userOrder;\n      const tickSize = yield this._resolveTickSize(tokenID, options === null || options === void 0 ? void 0 : options.tickSize);\n      const feeRateBps = yield this._resolveFeeRateBps(tokenID, userOrder.feeRateBps);\n      userOrder.feeRateBps = feeRateBps;\n      if (!(0, utilities_1.priceValid)(userOrder.price, tickSize)) {\n        throw new Error(`invalid price (${userOrder.price}), min: ${parseFloat(tickSize)} - max: ${1 - parseFloat(tickSize)}`);\n      }\n      const negRisk = (_a = options === null || options === void 0 ? void 0 : options.negRisk) !== null && _a !== void 0 ? _a : yield this.getNegRisk(tokenID);\n      return this.orderBuilder.buildOrder(userOrder, {\n        tickSize,\n        negRisk\n      });\n    });\n  }\n  createMarketOrder(userMarketOrder, options) {\n    var _a;\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL1Auth();\n      const {\n        tokenID\n      } = userMarketOrder;\n      const tickSize = yield this._resolveTickSize(tokenID, options === null || options === void 0 ? void 0 : options.tickSize);\n      const feeRateBps = yield this._resolveFeeRateBps(tokenID, userMarketOrder.feeRateBps);\n      userMarketOrder.feeRateBps = feeRateBps;\n      if (!userMarketOrder.price) {\n        userMarketOrder.price = yield this.calculateMarketPrice(tokenID, userMarketOrder.side, userMarketOrder.amount, userMarketOrder.orderType);\n      }\n      if (!(0, utilities_1.priceValid)(userMarketOrder.price, tickSize)) {\n        throw new Error(`invalid price (${userMarketOrder.price}), min: ${parseFloat(tickSize)} - max: ${1 - parseFloat(tickSize)}`);\n      }\n      const negRisk = (_a = options === null || options === void 0 ? void 0 : options.negRisk) !== null && _a !== void 0 ? _a : yield this.getNegRisk(tokenID);\n      return this.orderBuilder.buildMarketOrder(userMarketOrder, {\n        tickSize,\n        negRisk\n      });\n    });\n  }\n  createAndPostOrder(userOrder, options, orderType = types_1.OrderType.GTC, deferExec = false) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const order = yield this.createOrder(userOrder, options);\n      return this.postOrder(order, orderType, deferExec);\n    });\n  }\n  createAndPostMarketOrder(userMarketOrder, options, orderType = types_1.OrderType.FOK, deferExec = false) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const order = yield this.createMarketOrder(userMarketOrder, options);\n      return this.postOrder(order, orderType, deferExec);\n    });\n  }\n  getOpenOrders(params, only_first_page = false, next_cursor) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_OPEN_ORDERS;\n      const l2HeaderArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      let results = [];\n      next_cursor = next_cursor || constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR && (next_cursor === constants_1.INITIAL_CURSOR || !only_first_page)) {\n        const _params = Object.assign(Object.assign({}, params), {\n          next_cursor\n        });\n        const response = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params: _params\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  postOrder(order, orderType = types_1.OrderType.GTC, deferExec = false) {\n    var _a;\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.POST_ORDER;\n      const orderPayload = (0, utilities_1.orderToJson)(order, ((_a = this.creds) === null || _a === void 0 ? void 0 : _a.key) || \"\", orderType, deferExec);\n      const l2HeaderArgs = {\n        method: http_helpers_1.POST,\n        requestPath: endpoint,\n        body: JSON.stringify(orderPayload)\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      // builders flow\n      if (this.canBuilderAuth()) {\n        const builderHeaders = yield this._generateBuilderHeaders(headers, l2HeaderArgs);\n        if (builderHeaders !== undefined) {\n          return this.post(`${this.host}${endpoint}`, {\n            headers: builderHeaders,\n            data: orderPayload\n          });\n        }\n      }\n      return this.post(`${this.host}${endpoint}`, {\n        headers,\n        data: orderPayload\n      });\n    });\n  }\n  postOrders(args, deferExec = false) {\n    var _a;\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.POST_ORDERS;\n      const ordersPayload = [];\n      for (const {\n        order,\n        orderType\n      } of args) {\n        const orderPayload = (0, utilities_1.orderToJson)(order, ((_a = this.creds) === null || _a === void 0 ? void 0 : _a.key) || \"\", orderType, deferExec);\n        ordersPayload.push(orderPayload);\n      }\n      const l2HeaderArgs = {\n        method: http_helpers_1.POST,\n        requestPath: endpoint,\n        body: JSON.stringify(ordersPayload)\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      // builders flow\n      if (this.canBuilderAuth()) {\n        const builderHeaders = yield this._generateBuilderHeaders(headers, l2HeaderArgs);\n        if (builderHeaders !== undefined) {\n          return this.post(`${this.host}${endpoint}`, {\n            headers: builderHeaders,\n            data: ordersPayload\n          });\n        }\n      }\n      return this.post(`${this.host}${endpoint}`, {\n        headers,\n        data: ordersPayload\n      });\n    });\n  }\n  cancelOrder(payload) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.CANCEL_ORDER;\n      const l2HeaderArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint,\n        body: JSON.stringify(payload)\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers,\n        data: payload\n      });\n    });\n  }\n  cancelOrders(ordersHashes) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.CANCEL_ORDERS;\n      const l2HeaderArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint,\n        body: JSON.stringify(ordersHashes)\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers,\n        data: ordersHashes\n      });\n    });\n  }\n  cancelAll() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.CANCEL_ALL;\n      const l2HeaderArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers\n      });\n    });\n  }\n  cancelMarketOrders(payload) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.CANCEL_MARKET_ORDERS;\n      const l2HeaderArgs = {\n        method: http_helpers_1.DELETE,\n        requestPath: endpoint,\n        body: JSON.stringify(payload)\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, l2HeaderArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.del(`${this.host}${endpoint}`, {\n        headers,\n        data: payload\n      });\n    });\n  }\n  isOrderScoring(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.IS_ORDER_SCORING;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.get(`${this.host}${endpoint}`, {\n        headers,\n        params\n      });\n    });\n  }\n  areOrdersScoring(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.ARE_ORDERS_SCORING;\n      const payload = JSON.stringify(params === null || params === void 0 ? void 0 : params.orderIds);\n      const headerArgs = {\n        method: http_helpers_1.POST,\n        requestPath: endpoint,\n        body: payload\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      return this.post(`${this.host}${endpoint}`, {\n        headers,\n        data: payload\n      });\n    });\n  }\n  // Rewards\n  getEarningsForUserForDay(date) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_EARNINGS_FOR_USER_FOR_DAY;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      let results = [];\n      let next_cursor = constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR) {\n        const params = {\n          date,\n          signature_type: this.orderBuilder.signatureType,\n          next_cursor\n        };\n        const response = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  getTotalEarningsForUserForDay(date) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_TOTAL_EARNINGS_FOR_USER_FOR_DAY;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      const params = {\n        date,\n        signature_type: this.orderBuilder.signatureType\n      };\n      return yield this.get(`${this.host}${endpoint}`, {\n        headers,\n        params\n      });\n    });\n  }\n  getUserEarningsAndMarketsConfig(date, order_by = \"\", position = \"\", no_competition = false) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_REWARDS_EARNINGS_PERCENTAGES;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      let results = [];\n      let next_cursor = constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR) {\n        const params = {\n          date,\n          signature_type: this.orderBuilder.signatureType,\n          next_cursor,\n          order_by,\n          position,\n          no_competition\n        };\n        const response = yield this.get(`${this.host}${endpoint}`, {\n          headers,\n          params\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  getRewardPercentages() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.canL2Auth();\n      const endpoint = endpoints_1.GET_LIQUIDITY_REWARD_PERCENTAGES;\n      const headerArgs = {\n        method: http_helpers_1.GET,\n        requestPath: endpoint\n      };\n      const headers = yield (0, headers_1.createL2Headers)(this.signer, this.creds, headerArgs, this.useServerTime ? yield this.getServerTime() : undefined);\n      const _params = {\n        signature_type: this.orderBuilder.signatureType\n      };\n      return this.get(`${this.host}${endpoint}`, {\n        headers,\n        params: _params\n      });\n    });\n  }\n  getCurrentRewards() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      let results = [];\n      let next_cursor = constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR) {\n        const response = yield this.get(`${this.host}${endpoints_1.GET_REWARDS_MARKETS_CURRENT}`, {\n          params: {\n            next_cursor\n          }\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  getRawRewardsForMarket(conditionId) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      let results = [];\n      let next_cursor = constants_1.INITIAL_CURSOR;\n      while (next_cursor != constants_1.END_CURSOR) {\n        const response = yield this.get(`${this.host}${endpoints_1.GET_REWARDS_MARKETS}${conditionId}`, {\n          params: {\n            next_cursor\n          }\n        });\n        next_cursor = response.next_cursor;\n        results = [...results, ...response.data];\n      }\n      return results;\n    });\n  }\n  getMarketTradesEvents(conditionID) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.get(`${this.host}${endpoints_1.GET_MARKET_TRADES_EVENTS}${conditionID}`);\n    });\n  }\n  calculateMarketPrice(tokenID, side, amount, orderType = types_1.OrderType.FOK) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const book = yield this.getOrderBook(tokenID);\n      if (!book) {\n        throw new Error(\"no orderbook\");\n      }\n      if (side === types_1.Side.BUY) {\n        if (!book.asks) {\n          throw new Error(\"no match\");\n        }\n        return (0, helpers_1.calculateBuyMarketPrice)(book.asks, amount, orderType);\n      } else {\n        if (!book.bids) {\n          throw new Error(\"no match\");\n        }\n        return (0, helpers_1.calculateSellMarketPrice)(book.bids, amount, orderType);\n      }\n    });\n  }\n  canL1Auth() {\n    if (this.signer === undefined) {\n      throw errors_1.L1_AUTH_UNAVAILABLE_ERROR;\n    }\n  }\n  canL2Auth() {\n    if (this.signer === undefined) {\n      throw errors_1.L1_AUTH_UNAVAILABLE_ERROR;\n    }\n    if (this.creds === undefined) {\n      throw errors_1.L2_AUTH_NOT_AVAILABLE;\n    }\n  }\n  canBuilderAuth() {\n    return this.builderConfig != undefined && this.builderConfig.isValid();\n  }\n  _resolveTickSize(tokenID, tickSize) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const minTickSize = yield this.getTickSize(tokenID);\n      if (tickSize) {\n        if ((0, utilities_1.isTickSizeSmaller)(tickSize, minTickSize)) {\n          throw new Error(`invalid tick size (${tickSize}), minimum for the market is ${minTickSize}`);\n        }\n      } else {\n        tickSize = minTickSize;\n      }\n      return tickSize;\n    });\n  }\n  _resolveFeeRateBps(tokenID, userFeeRateBps) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const marketFeeRateBps = yield this.getFeeRateBps(tokenID);\n      if (marketFeeRateBps > 0 && userFeeRateBps != undefined && userFeeRateBps != marketFeeRateBps) {\n        throw new Error(`invalid user provided fee rate: ${userFeeRateBps}, fee rate for the market must be ${marketFeeRateBps}`);\n      }\n      return marketFeeRateBps;\n    });\n  }\n  _generateBuilderHeaders(headers, headerArgs) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      if (this.builderConfig !== undefined) {\n        const builderHeaders = yield this._getBuilderHeaders(headerArgs.method, headerArgs.requestPath, headerArgs.body);\n        if (builderHeaders == undefined) {\n          return undefined;\n        }\n        return (0, headers_1.injectBuilderHeaders)(headers, builderHeaders);\n      }\n      return undefined;\n    });\n  }\n  _getBuilderHeaders(method, path, body) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return this.builderConfig.generateBuilderHeaders(method, path, body);\n    });\n  }\n  // http methods\n  get(endpoint, options) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return (0, http_helpers_1.get)(endpoint, Object.assign(Object.assign({}, options), {\n        params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), {\n          geo_block_token: this.geoBlockToken\n        })\n      }));\n    });\n  }\n  post(endpoint, options) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return (0, http_helpers_1.post)(endpoint, Object.assign(Object.assign({}, options), {\n        params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), {\n          geo_block_token: this.geoBlockToken\n        })\n      }));\n    });\n  }\n  del(endpoint, options) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return (0, http_helpers_1.del)(endpoint, Object.assign(Object.assign({}, options), {\n        params: Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.params), {\n          geo_block_token: this.geoBlockToken\n        })\n      }));\n    });\n  }\n}\nexports.ClobClient = ClobClient;","map":{"version":3,"names":["types_1","require","headers_1","http_helpers_1","errors_1","utilities_1","endpoints_1","builder_1","constants_1","helpers_1","ClobClient","constructor","host","chainId","signer","creds","signatureType","funderAddress","geoBlockToken","useServerTime","builderConfig","getSigner","endsWith","slice","undefined","orderBuilder","OrderBuilder","tickSizes","negRisk","feeRates","getOk","get","getServerTime","TIME","getSamplingSimplifiedMarkets","next_cursor","INITIAL_CURSOR","GET_SAMPLING_SIMPLIFIED_MARKETS","params","getSamplingMarkets","GET_SAMPLING_MARKETS","getSimplifiedMarkets","GET_SIMPLIFIED_MARKETS","getMarkets","GET_MARKETS","getMarket","conditionID","GET_MARKET","getOrderBook","tokenID","GET_ORDER_BOOK","token_id","getOrderBooks","post","GET_ORDER_BOOKS","data","getTickSize","result","GET_TICK_SIZE","minimum_tick_size","toString","getNegRisk","GET_NEG_RISK","neg_risk","getFeeRateBps","GET_FEE_RATE","base_fee","getOrderBookHash","orderbook","generateOrderBookSummaryHash","getMidpoint","GET_MIDPOINT","getMidpoints","GET_MIDPOINTS","getPrice","side","GET_PRICE","getPrices","GET_PRICES","getSpread","GET_SPREAD","getSpreads","GET_SPREADS","getLastTradePrice","GET_LAST_TRADE_PRICE","getLastTradesPrices","GET_LAST_TRADES_PRICES","getPricesHistory","GET_PRICES_HISTORY","createApiKey","nonce","canL1Auth","endpoint","CREATE_API_KEY","headers","createL1Headers","then","apiKeyRaw","apiKey","key","secret","passphrase","deriveApiKey","DERIVE_API_KEY","createOrDeriveApiKey","response","getApiKeys","canL2Auth","GET_API_KEYS","headerArgs","method","GET","requestPath","createL2Headers","getClosedOnlyMode","CLOSED_ONLY","deleteApiKey","DELETE_API_KEY","DELETE","del","getOrder","orderID","GET_ORDER","getTrades","only_first_page","GET_TRADES","results","END_CURSOR","_params","Object","assign","getTradesPaginated","_a","rest","tslib_1","__rest","trades","Array","isArray","getBuilderTrades","canBuilderAuth","BUILDER_AUTH_NOT_AVAILABLE","GET_BUILDER_TRADES","_getBuilderHeaders","BUILDER_AUTH_FAILED","getNotifications","GET_NOTIFICATIONS","signature_type","dropNotifications","DROP_NOTIFICATIONS","l2HeaderArgs","parseDropNotificationParams","getBalanceAllowance","GET_BALANCE_ALLOWANCE","updateBalanceAllowance","UPDATE_BALANCE_ALLOWANCE","createOrder","userOrder","options","tickSize","_resolveTickSize","feeRateBps","_resolveFeeRateBps","priceValid","price","Error","parseFloat","buildOrder","createMarketOrder","userMarketOrder","calculateMarketPrice","amount","orderType","buildMarketOrder","createAndPostOrder","OrderType","GTC","deferExec","order","postOrder","createAndPostMarketOrder","FOK","getOpenOrders","GET_OPEN_ORDERS","POST_ORDER","orderPayload","orderToJson","POST","body","JSON","stringify","builderHeaders","_generateBuilderHeaders","postOrders","args","POST_ORDERS","ordersPayload","push","cancelOrder","payload","CANCEL_ORDER","cancelOrders","ordersHashes","CANCEL_ORDERS","cancelAll","CANCEL_ALL","cancelMarketOrders","CANCEL_MARKET_ORDERS","isOrderScoring","IS_ORDER_SCORING","areOrdersScoring","ARE_ORDERS_SCORING","orderIds","getEarningsForUserForDay","date","GET_EARNINGS_FOR_USER_FOR_DAY","getTotalEarningsForUserForDay","GET_TOTAL_EARNINGS_FOR_USER_FOR_DAY","getUserEarningsAndMarketsConfig","order_by","position","no_competition","GET_REWARDS_EARNINGS_PERCENTAGES","getRewardPercentages","GET_LIQUIDITY_REWARD_PERCENTAGES","getCurrentRewards","GET_REWARDS_MARKETS_CURRENT","getRawRewardsForMarket","conditionId","GET_REWARDS_MARKETS","getMarketTradesEvents","GET_MARKET_TRADES_EVENTS","book","Side","BUY","asks","calculateBuyMarketPrice","bids","calculateSellMarketPrice","L1_AUTH_UNAVAILABLE_ERROR","L2_AUTH_NOT_AVAILABLE","isValid","minTickSize","isTickSizeSmaller","userFeeRateBps","marketFeeRateBps","injectBuilderHeaders","path","generateBuilderHeaders","geo_block_token","exports"],"sources":["../src/client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}