{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseDropNotificationParams = exports.parseOrdersScoringParams = exports.del = exports.get = exports.post = exports.request = exports.PUT = exports.DELETE = exports.POST = exports.GET = void 0;\nconst tslib_1 = require(\"tslib\");\n/* eslint-disable max-depth */\nconst axios_1 = tslib_1.__importDefault(require(\"axios\"));\nconst browser_or_node_1 = require(\"browser-or-node\");\nexports.GET = \"GET\";\nexports.POST = \"POST\";\nexports.DELETE = \"DELETE\";\nexports.PUT = \"PUT\";\nconst overloadHeaders = (method, headers) => {\n  if (browser_or_node_1.isBrowser) {\n    return;\n  }\n  if (!headers || typeof headers === undefined) {\n    headers = {};\n  }\n  if (headers) {\n    headers[\"User-Agent\"] = `@polymarket/clob-client`;\n    headers[\"Accept\"] = \"*/*\";\n    headers[\"Connection\"] = \"keep-alive\";\n    headers[\"Content-Type\"] = \"application/json\";\n    if (method === exports.GET) {\n      headers[\"Accept-Encoding\"] = \"gzip\";\n    }\n  }\n};\nconst request = (endpoint, method, headers, data, params) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {\n  overloadHeaders(method, headers);\n  return yield (0, axios_1.default)({\n    method,\n    url: endpoint,\n    headers,\n    data,\n    params\n  });\n});\nexports.request = request;\nconst post = (endpoint, options) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {\n  try {\n    const resp = yield (0, exports.request)(endpoint, exports.POST, options === null || options === void 0 ? void 0 : options.headers, options === null || options === void 0 ? void 0 : options.data, options === null || options === void 0 ? void 0 : options.params);\n    return resp.data;\n  } catch (err) {\n    return errorHandling(err);\n  }\n});\nexports.post = post;\nconst get = (endpoint, options) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {\n  try {\n    const resp = yield (0, exports.request)(endpoint, exports.GET, options === null || options === void 0 ? void 0 : options.headers, options === null || options === void 0 ? void 0 : options.data, options === null || options === void 0 ? void 0 : options.params);\n    return resp.data;\n  } catch (err) {\n    return errorHandling(err);\n  }\n});\nexports.get = get;\nconst del = (endpoint, options) => tslib_1.__awaiter(void 0, void 0, void 0, function* () {\n  try {\n    const resp = yield (0, exports.request)(endpoint, exports.DELETE, options === null || options === void 0 ? void 0 : options.headers, options === null || options === void 0 ? void 0 : options.data, options === null || options === void 0 ? void 0 : options.params);\n    return resp.data;\n  } catch (err) {\n    return errorHandling(err);\n  }\n});\nexports.del = del;\nconst errorHandling = err => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n  if (axios_1.default.isAxiosError(err)) {\n    if (err.response) {\n      console.error(\"[CLOB Client] request error\", JSON.stringify({\n        status: (_a = err.response) === null || _a === void 0 ? void 0 : _a.status,\n        statusText: (_b = err.response) === null || _b === void 0 ? void 0 : _b.statusText,\n        data: (_c = err.response) === null || _c === void 0 ? void 0 : _c.data,\n        config: (_d = err.response) === null || _d === void 0 ? void 0 : _d.config\n      }));\n      if ((_e = err.response) === null || _e === void 0 ? void 0 : _e.data) {\n        if (typeof ((_f = err.response) === null || _f === void 0 ? void 0 : _f.data) === \"string\" || ((_g = err.response) === null || _g === void 0 ? void 0 : _g.data) instanceof String) {\n          return {\n            error: (_h = err.response) === null || _h === void 0 ? void 0 : _h.data,\n            status: (_j = err.response) === null || _j === void 0 ? void 0 : _j.status\n          };\n        }\n        if (!Object.prototype.hasOwnProperty.call((_k = err.response) === null || _k === void 0 ? void 0 : _k.data, \"error\")) {\n          return {\n            error: (_l = err.response) === null || _l === void 0 ? void 0 : _l.data,\n            status: (_m = err.response) === null || _m === void 0 ? void 0 : _m.status\n          };\n        }\n        // in this case the field 'error' is included\n        return Object.assign(Object.assign({}, (_o = err.response) === null || _o === void 0 ? void 0 : _o.data), {\n          status: (_p = err.response) === null || _p === void 0 ? void 0 : _p.status\n        });\n      }\n    }\n    if (err.message) {\n      console.error(\"[CLOB Client] request error\", JSON.stringify({\n        error: err.message\n      }));\n      return {\n        error: err.message\n      };\n    }\n  }\n  console.error(\"[CLOB Client] request error\", err);\n  return {\n    error: err\n  };\n};\nconst parseOrdersScoringParams = orderScoringParams => {\n  const params = {};\n  if (orderScoringParams !== undefined) {\n    if (orderScoringParams.orderIds !== undefined) {\n      params[\"order_ids\"] = orderScoringParams === null || orderScoringParams === void 0 ? void 0 : orderScoringParams.orderIds.join(\",\");\n    }\n  }\n  return params;\n};\nexports.parseOrdersScoringParams = parseOrdersScoringParams;\nconst parseDropNotificationParams = dropNotificationParams => {\n  const params = {};\n  if (dropNotificationParams !== undefined) {\n    if (dropNotificationParams.ids !== undefined) {\n      params[\"ids\"] = dropNotificationParams === null || dropNotificationParams === void 0 ? void 0 : dropNotificationParams.ids.join(\",\");\n    }\n  }\n  return params;\n};\nexports.parseDropNotificationParams = parseDropNotificationParams;","map":{"version":3,"names":["axios_1","tslib_1","__importDefault","require","browser_or_node_1","exports","GET","POST","DELETE","PUT","overloadHeaders","method","headers","isBrowser","undefined","request","endpoint","data","params","__awaiter","default","url","post","options","resp","err","errorHandling","get","del","isAxiosError","response","console","error","JSON","stringify","status","_a","statusText","_b","_c","config","_d","_e","_f","_g","String","_h","_j","Object","prototype","hasOwnProperty","call","_k","_l","_m","assign","_o","_p","message","parseOrdersScoringParams","orderScoringParams","orderIds","join","parseDropNotificationParams","dropNotificationParams","ids"],"sources":["../../src/http-helpers/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}